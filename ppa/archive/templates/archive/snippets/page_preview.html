{% comment %}
Page preview snippet displays page thumbnail and highlight text from
keyword search.  Used on both DigitizedWork list and detail views.

Expected context variables:
  - item_id: source id for the work the page belongs to
  - page: page result with page.order attribute (page label/order, for determining thumbnail url)
  - highlights: dictionary of Solr highlighting results
{% endcomment %}
{% load ppa_tags %}
<div class="page">
    <div class="preview">
        <a href="{% page_url item_id page.order %}"
          target=_blank>
          <img data-src="{% page_image_url item_id page.order 225 %}"
              data-srcset="{% page_image_url item_id page.order 450 %} 2x"
              alt="page preview {{ forloop.counter }}"/>
        </a>
    </div>
    {% if page.title %}<a>p. {{ page.title }}</a>{% endif %}
    <div class="snippets">
          <p class="page-number">
            <a href="{% page_url item_id page.order %}" target=_blank>
              p. {{ page.label }}
            </a>
          </p>
        {% for snippet in highlights.content %}
        <p class="snippet">{{ snippet|solr_highlight }}</p>
        {% endfor %}
    </div>
</div>
